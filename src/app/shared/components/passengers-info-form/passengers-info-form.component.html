<form [formGroup]="passengerFormGroup">

    <mat-form-field class="input-container"
      [ngClass]="{'invalid': passengersInfoServiceService.firstName!.invalid && passengersInfoServiceService.firstName!.touched}"
     >
     <mat-label>First name</mat-label>
     <input matInput
       formControlName="firstName"
       type="text">
     <mat-icon matSuffix [matMenuTriggerFor]="firstNameMenu"
       *ngIf="!(passengersInfoServiceService.firstName!.invalid && passengersInfoServiceService.firstName!.touched); else errorFirstNameIcon"
       >error_outline
     </mat-icon>
     <ng-template #errorFirstNameIcon>
       <mat-icon matSuffix class="invalid-icon" [matMenuTriggerFor]="firstNameMenu">error</mat-icon>
     </ng-template>
     <mat-menu #firstNameMenu="matMenu">
     <span class="menu-content">
       Add the passenger's first name as it is written on their documents (passport or ID). Do not use any accents or special characters. Do not use a nickname.
     </span>
     </mat-menu>
     </mat-form-field>
     <div
     *ngIf="passengersInfoServiceService.firstName!.invalid && passengersInfoServiceService.firstName!.touched"
     class="validation">
     <small class="error-message"
       *ngIf="passengersInfoServiceService.firstNameErrors?.['required']">
         Please enter first name.
     </small>
     <small class="error-message"
     *ngIf="passengersInfoServiceService.firstNameErrors?.['pattern']">
       Invalid character.
     </small>
     <small class="error-message"
     *ngIf="passengersInfoServiceService.firstNameErrors?.['minlength']?.['requiredLength']">
       The first name is too short (minimum 3 letters)
     </small>
     </div>
     <mat-form-field class="input-container"
     [ngClass]="{'invalid': passengersInfoServiceService.lastName!.invalid && passengersInfoServiceService.lastName!.touched}"
     >
     <mat-label>Last name</mat-label>
     <input matInput
       formControlName="lastName"
       type="text">
       <mat-icon matSuffix [matMenuTriggerFor]="lastNameMenu"
       *ngIf="!(passengersInfoServiceService.lastName!.invalid && passengersInfoServiceService.lastName!.touched); else errorLastNameIcon"
       >error_outline
     </mat-icon>
     <ng-template #errorLastNameIcon >
       <mat-icon matSuffix class="invalid-icon" [matMenuTriggerFor]="lastNameMenu">error</mat-icon>
     </ng-template>
     <mat-menu #lastNameMenu="matMenu">
       <span class="menu-content">
         Add the passenger's last name as it is written on their documents (passport or ID). Do not use any accents or special characters. Do not use a nickname.
       </span>
     </mat-menu>
     </mat-form-field>
     <div
     *ngIf="passengersInfoServiceService.lastName!.invalid && passengersInfoServiceService.lastName!.touched"
     class="validation">
     <small class="error-message"
       *ngIf="passengersInfoServiceService.lastNameErrors?.['required']">
         Please enter last name.
     </small>
     <small class="error-message"
     *ngIf="passengersInfoServiceService.lastNameErrors?.['pattern']">
       Invalid character.
     </small>
     <small class="error-message"
     *ngIf="passengersInfoServiceService.lastNameErrors?.['minlength']?.['requiredLength']">
       The last name is too short.
     </small>
     </div>
     <mat-form-field appearance="fill" class="input-container">
     <mat-label>Date of birth</mat-label>
     <input matInput [matDatepicker]="picker" formControlName="date">
     <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
     <mat-datepicker #picker></mat-datepicker>
     </mat-form-field>
     <div *ngIf="passengersInfoServiceService.date!.invalid && passengersInfoServiceService.date!.touched" class="validation">
     <small class="error-message"
       *ngIf="passengersInfoServiceService.dateErrors?.['required']">
         Please enter a correct creation date
     </small>
     <small class="error-message"
       *ngIf="passengersInfoServiceService.dateErrors?.['isFutureDate'] && !passengersInfoServiceService.dateErrors?.['required']">
         The date is invalid. You choose future date.
     </small>
     </div>
     <div class="gender-container">
     <button
       class="gender-btn gender-btn__left"
       type="button"
       (click)="passengersInfoServiceService.toggleGender()"
       [ngClass]="{'selected-gender': passengersInfoServiceService.isMale}"
     >
       <span [ngClass]="{'select-icon': passengersInfoServiceService.isMale}"></span>
       Male
     </button>
     <button
       class="gender-btn gender-btn__right"
       type="button"
       (click)="passengersInfoServiceService.toggleGender()"
       [ngClass]="{'selected-gender': !passengersInfoServiceService.isMale}"
     >
       <span [ngClass]="{'select-icon': !passengersInfoServiceService.isMale}"></span>
       Female
     </button>
     </div>

</form>
